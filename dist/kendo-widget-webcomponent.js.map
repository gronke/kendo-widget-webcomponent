{"version":3,"sources":["kendo-widget-webcomponent.ts"],"names":["KendoWidgetWebcomponent","KendoWidgetWebcomponent.constructor","KendoWidgetWebcomponent.injectTemplate","KendoWidgetWebcomponent.injectTemplates","KendoWidgetWebcomponent.createWidget","KendoWidgetWebcomponent.getTemplateContent","KendoWidgetWebcomponent.getTemplate","KendoWidgetWebcomponent.appendToTargetElement","KendoWidgetWebcomponent.getLocalDocument","KendoWidgetWebcomponent.getLocalKendoTemplates","KendoWidgetWebcomponent.forEachLocalKendoTemplate"],"mappings":"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","file":"kendo-widget-webcomponent.js","sourcesContent":["/// <reference path=\"../typings/HTML5Document.d.ts\" />\n/// <reference path=\"../typings/kendo-ui/kendo-ui.d.ts\" />\n'use strict';\n\nclass KendoWidgetWebcomponent {\n\n    static injectTemplate(templateElement: HTMLScriptElement) {\n        if(!document.getElementById(templateElement.id)) {\n            document.body.appendChild(templateElement);\n        }\n    }\n\n    static injectTemplates() {\n        var that = this;\n        this.forEachLocalKendoTemplate((templateElement) => {\n            that.injectTemplate(templateElement);\n        });\n    }\n\n    static createWidget(name: String, widgetOptions: kendo.ui.Widget, prototype: any = kendo.ui.Widget) {\n\n        var template: HTMLElement = KendoWidgetWebcomponent.getTemplate.call(KendoWidgetWebcomponent, name);\n\n        var Widget = prototype.extend({\n            init: function(element, options) {\n\n                if (template) {\n                    jQuery(element).append(template.innerHTML);\n                }\n\n                prototype.fn.init.call(this, element, options);\n\n                if (widgetOptions.init) {\n                    widgetOptions.init.call(this, element, options)\n                }\n\n            },\n            options: {\n                name: name\n            }\n        });\n\n        kendo.ui.plugin(Widget);\n\n        return Widget;\n\n    }\n\n    static getTemplateContent(name: String): String {\n        return this.getTemplate(name).innerHTML;\n    }\n\n    static getTemplate(name: String): HTMLElement {\n        return <HTMLElement>this.getLocalDocument()\n            .querySelector('script[type=\"text/x-kendo-template\"][name=\"' + name + '\"]');\n    }\n\n    private static appendToTargetElement() {\n        return document.body;\n    }\n\n    private static getLocalDocument() {\n        var rootDocument: HTML5Document = <HTML5Document>document;\n        return rootDocument.currentScript.ownerDocument.documentElement;\n    }\n\n    private static getLocalKendoTemplates() {\n        return this.getLocalDocument()\n            .querySelectorAll('script[type=\"text/x-kendo-template\"]');\n    }\n\n    private static forEachLocalKendoTemplate(cb: (templateElement: HTMLScriptElement) => void) {\n          [].forEach.call(this.getLocalKendoTemplates(), cb);\n    }\n\n}\n"],"sourceRoot":"/source/"}