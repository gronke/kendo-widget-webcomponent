{"version":3,"sources":["kendo-widget-webcomponent.ts"],"names":["KendoWidgetWebcomponent","KendoWidgetWebcomponent.constructor","KendoWidgetWebcomponent.injectTemplates","KendoWidgetWebcomponent.createWidget","KendoWidgetWebcomponent.getTemplate","KendoWidgetWebcomponent.appendToTargetElement","KendoWidgetWebcomponent.getLocalDocument","KendoWidgetWebcomponent.getLocalKendoTemplates","KendoWidgetWebcomponent.forEachLocalKendoTemplate"],"mappings":"AAAA,sDAAsD;AACtD,0DAA0D;AAC1D,YAAY,CAAC;AAEb;IAAAA;QAEWC,YAAOA,GAAYA,KAAKA,CAACA;IA6DpCA,CAACA;IA3DUD,uCAAeA,GAAtBA;QACIE,IAAIA,CAACA,yBAAyBA,CAACA,UAACA,eAAeA;YAC3CA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,CAACA,eAAeA,CAACA,CAACA;YAC3CA,OAAOA,CAACA,GAAGA,CAACA,iBAAiBA,EAAEA,eAAeA,CAACA,YAAYA,CAACA,MAAMA,CAACA,CAACA,CAACA;QACzEA,CAACA,CAACA,CAACA;IACPA,CAACA;IAEMF,oCAAYA,GAAnBA,UAAoBA,IAAYA,EAAEA,SAA0BA;QAExDG,IAAIA,QAAQA,GAAgBA,uBAAuBA,CAACA,WAAWA,CAACA,IAAIA,CAACA,uBAAuBA,EAAEA,IAAIA,CAACA,CAACA;QAEpGA,IAAIA,MAAMA,GAAGA,KAAKA,CAACA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA;YAChCA,IAAIA,EAAEA,UAASA,OAAOA,EAAEA,OAAOA;gBAE3B,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACX,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;gBAC/C,CAAC;gBAED,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;gBAErD,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACjB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;gBAC/C,CAAC;YAEL,CAAC;YACDA,OAAOA,EAAEA;gBACLA,IAAIA,EAAEA,IAAIA;aACbA;SACJA,CAACA,CAACA;QAEHA,KAAKA,CAACA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA;QAExBA,MAAMA,CAACA,MAAMA,CAACA;IAElBA,CAACA;IAEMH,mCAAWA,GAAlBA,UAAmBA,IAAYA;QAC3BI,MAAMA,CAAcA,IAAIA,CAACA,gBAAgBA,EAAEA;aACtCA,aAAaA,CAACA,6CAA6CA,GAAGA,IAAIA,GAAGA,IAAIA,CAACA,CAACA;IACpFA,CAACA;IAEcJ,6CAAqBA,GAApCA;QACIK,MAAMA,CAACA,QAAQA,CAACA,IAAIA,CAACA;IACzBA,CAACA;IAEcL,wCAAgBA,GAA/BA;QACIM,IAAIA,YAAYA,GAAiCA,QAAQA,CAACA;QAC1DA,MAAMA,CAACA,YAAYA,CAACA,aAAaA,CAACA,aAAaA,CAACA,eAAeA,CAACA;IACpEA,CAACA;IAEcN,8CAAsBA,GAArCA;QACIO,MAAMA,CAACA,IAAIA,CAACA,gBAAgBA,EAAEA;aACzBA,gBAAgBA,CAACA,sCAAsCA,CAACA,CAACA;IAClEA,CAACA;IAEcP,iDAAyBA,GAAxCA,UAAyCA,EAAgDA;QACnFQ,EAAEA,CAACA,OAAOA,CAACA,IAAIA,CAACA,IAAIA,CAACA,sBAAsBA,EAAEA,EAAEA,EAAEA,CAACA,CAACA;IACzDA,CAACA;IAELR,8BAACA;AAADA,CA/DA,AA+DCA,IAAA","file":"kendo-widget-webcomponent.js","sourcesContent":["/// <reference path=\"../typings/HTML5Document.d.ts\" />\n/// <reference path=\"../typings/kendo-ui/kendo-ui.d.ts\" />\n'use strict';\n\nclass KendoWidgetWebcomponent {\n\n    public verbose: Boolean = false;\n\n    static injectTemplates() {\n        this.forEachLocalKendoTemplate((templateElement) => {\n            document.body.appendChild(templateElement);\n            console.log('Inject Template', templateElement.getAttribute('name'));\n        });\n    }\n\n    static createWidget(name: String, prototype: kendo.ui.Widget) {\n\n        var template: HTMLElement = KendoWidgetWebcomponent.getTemplate.call(KendoWidgetWebcomponent, name);\n\n        var Widget = kendo.ui.Widget.extend({\n            init: function(element, options) {\n\n                if (template) {\n                    jQuery(element).append(template.innerHTML);\n                }\n\n                kendo.ui.Widget.fn.init.call(this, element, options);\n\n                if (prototype.init) {\n                    prototype.init.call(this, element, options)\n                }\n\n            },\n            options: {\n                name: name\n            }\n        });\n\n        kendo.ui.plugin(Widget);\n\n        return Widget;\n\n    }\n\n    static getTemplate(name: String): HTMLElement {\n        return <HTMLElement>this.getLocalDocument()\n            .querySelector('script[type=\"text/x-kendo-template\"][name=\"' + name + '\"]');\n    }\n\n    private static appendToTargetElement() {\n        return document.body;\n    }\n\n    private static getLocalDocument() {\n        var rootDocument: HTML5Document = <HTML5Document>document;\n        return rootDocument.currentScript.ownerDocument.documentElement;\n    }\n\n    private static getLocalKendoTemplates() {\n        return this.getLocalDocument()\n            .querySelectorAll('script[type=\"text/x-kendo-template\"]');\n    }\n\n    private static forEachLocalKendoTemplate(cb: (templateElement: HTMLScriptElement) => void) {\n          [].forEach.call(this.getLocalKendoTemplates(), cb);\n    }\n\n}\n"],"sourceRoot":"/source/"}